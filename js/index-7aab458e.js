var N=Object.defineProperty;var B=(r,s,t)=>s in r?N(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var c=(r,s,t)=>(B(r,typeof s!="symbol"?s+"":s,t),t);import{d as j,r as k,o as u,c as b,F as I,a as L,n as w,b as i,t as O,e as $,w as A,f as U,g as V,u as h,h as T,i as q,j as F,T as G,k as H}from"./index-7d12d925.js";const X=["onClick"],Y=i("div",{class:"text-2xl transition-transform i-tabler:arrow-up"},null,-1),J=[Y],K=j({__name:"index",props:{item:{}},emits:["click"],setup(r,{emit:s}){const t=k({up:"rotate-0 top-0",right:"rotate-90 right-0",down:"rotate-180 bottom-0",left:"rotate-270 left-0"}),g=(o,d)=>{s("click",o,d)};return(o,d)=>(u(),b("div",{class:w(["relative flex items-center justify-center mb-3 w-30 h-30",o.$attrs.class])},[(u(!0),b(I,null,L(t,(m,n)=>(u(),b("div",{class:w([m,"absolute p-1 rounded-md bg-gray-400/20"]),hover:"bg-c_theme/80 text-white",onClick:C=>g(o.$props.item,n),key:m},J,10,X))),128)),i("span",{class:w(o.$attrs.titleClass)},O(o.item.title),3)],2))}}),W="/canvas/svg/1-95cc5778.svg",Z="/canvas/svg/10-eb444581.svg",ss="/canvas/svg/11-76f68e99.svg",es="/canvas/svg/12-81e7af88.svg",ts="/canvas/svg/13-3e21c088.svg",as="/canvas/svg/14-127b01f5.svg",gs="/canvas/svg/15-f85041a3.svg",vs="/canvas/svg/16-bcd213c0.svg",os="/canvas/svg/17-aee56a57.svg",_s="/canvas/svg/18-8ceea64b.svg",cs="/canvas/svg/19-1fdbbc23.svg",is="/canvas/svg/2-cf9c833c.svg",ns="/canvas/svg/20-b787125c.svg",ls="/canvas/svg/21-f9b3e2b3.svg",ms="/canvas/svg/22-74e78356.svg",rs="/canvas/svg/3-b08c462c.svg",ds="/canvas/svg/4-260b03a2.svg",hs="/canvas/svg/5-f6a3f853.svg",us="/canvas/svg/6-f258eae1.svg",bs="/canvas/svg/7-6fb6771e.svg",fs="/canvas/svg/8-cbc8a348.svg",ps="/canvas/svg/9-4b048499.svg",ys="/canvas/svg/1-8bca5162.svg",xs="/canvas/svg/2-0e5db1cb.svg",ws="/canvas/svg/3-e67acb13.svg",Cs="/canvas/svg/4-d3adec8c.svg",ks="/canvas/svg/5-cea5fed4.svg",Is="/canvas/svg/6-d27e872d.svg",Ls="/canvas/svg/dd-32f5fca7.svg",$s="/canvas/svg/1-455b3284.svg",Ps="/canvas/svg/10-758b4284.svg",Ts="/canvas/svg/11-4b10a973.svg",js="/canvas/svg/12-23f52381.svg",Ds="/canvas/svg/13-691c22d1.svg",Ms="/canvas/svg/14-a0366ad2.svg",zs="/canvas/svg/15-b7e18ac7.svg",Es="/canvas/svg/16-e2c3b5f5.svg",Rs="/canvas/svg/17-4d34a7cf.svg",Qs="/canvas/svg/18-2e46259a.svg",Ss="/canvas/svg/19-245607f3.svg",Ns="/canvas/svg/2-36b81a2f.svg",Bs="/canvas/svg/20-8c40f15c.svg",Os="/canvas/svg/21-e71b7bff.svg",As="/canvas/svg/22-354246c4.svg",Us="/canvas/svg/23-694950a7.svg",Vs="/canvas/svg/24-b615d457.svg",qs="/canvas/svg/25-d05c0b11.svg",Fs="/canvas/svg/26-a39142e7.svg",Gs="/canvas/svg/3-11f8dc02.svg",Hs="/canvas/svg/4-2cf7a97c.svg",Xs="/canvas/svg/5-948960ec.svg",Ys="/canvas/svg/6-d5fac83b.svg",Js="/canvas/svg/7-82305d4c.svg",Ks="/canvas/svg/8-d8b3248c.svg",Ws="/canvas/svg/9-c59f9561.svg",Zs="/canvas/png/girl-e120c462.png",se="/canvas/svg/1-e04ce34a.svg",ee="/canvas/svg/2-b8e956e4.svg",te="/canvas/svg/3-0f65a4d0.svg",ae="/canvas/svg/4-2e0dc5c6.svg",ge="/canvas/svg/5-fa01bdba.svg",ve="/canvas/svg/6-21ec91f0.svg",oe="/canvas/svg/7-ccf65d99.svg",_e="/canvas/svg/8-f6026807.svg",ce="/canvas/svg/1-ba83e088.svg",ie="/canvas/svg/10-32d873e9.svg",ne="/canvas/svg/11-5b58f261.svg",le="/canvas/svg/12-ec25391b.svg",me="/canvas/svg/13-4581360c.svg",re="/canvas/svg/14-888cf9a5.svg",de="/canvas/svg/15-351a13fb.svg",he="/canvas/svg/16-6ab8c489.svg",ue="/canvas/svg/17-23a51de3.svg",be="/canvas/svg/18-778c41c2.svg",fe="/canvas/svg/19-d28a223b.svg",pe="/canvas/svg/2-f4ec4d94.svg",ye="/canvas/svg/20-f6cf8604.svg",xe="/canvas/svg/21-82290bed.svg",we="/canvas/svg/22-2c7fab8d.svg",Ce="/canvas/svg/23-3cd2c4c5.svg",ke="/canvas/svg/24-bdbe8737.svg",Ie="/canvas/svg/25-22955a93.svg",Le="/canvas/svg/26-1b372741.svg",$e="/canvas/svg/27-a064549f.svg",Pe="/canvas/svg/28-5757fe0b.svg",Te="/canvas/svg/29-b5cb6fea.svg",je="/canvas/svg/3-4a48f0fa.svg",De="/canvas/svg/30-261cc67d.svg",Me="/canvas/svg/31-34ecb5a3.svg",ze="/canvas/svg/32-d8942c67.svg",Ee="/canvas/svg/33-ef31f9d9.svg",Re="/canvas/svg/34-72316cc4.svg",Qe="/canvas/svg/35-6491b442.svg",Se="/canvas/svg/36-31d1f353.svg",Ne="/canvas/svg/37-cf9cbef0.svg",Be="/canvas/svg/38-95301c6a.svg",Oe="/canvas/svg/39-6f7154b1.svg",Ae="/canvas/svg/4-812b4fb9.svg",Ue="/canvas/svg/40-1938830b.svg",Ve="/canvas/svg/5-6b4b4c1c.svg",qe="/canvas/svg/6-edd38ca1.svg",Fe="/canvas/svg/7-c2742a37.svg",Ge="/canvas/svg/8-f0a9ff90.svg",He="/canvas/svg/9-0b707735.svg";function Xe(r){const s=document.querySelector("#layout-container"),t=document.querySelector(".content");r?(s??t).classList.add("overflow-hidden","h-screen"):(s??t).classList.remove("overflow-hidden","h-screen")}function Ye({initValue:r=!1}){const s=$(r),t=o=>{s.value=o};return A(()=>s.value,o=>{Xe(!!o)}),{loading:s,setLoading:t,toggle:()=>{s.value=!s.value}}}class Je{constructor(){c(this,"messageQueue");c(this,"position");c(this,"message");c(this,"types");c(this,"type");c(this,"duration");c(this,"body");c(this,"id");c(this,"zIndex");c(this,"max");this.messageQueue=[],this.position="top",this.message="",this.types=["success","warning","error","info"],this.type="",this.duration=3e3,this.body=document.getElementsByTagName("body")[0],this.id=0,this.zIndex=2e3,this.max=3}setType(s,t){this.types.includes(t)?s.classList.add(`ui-message-${t}`):s.classList.add("ui-message-info")}createTextDom(s,t){const g=document.createElement("p");g.classList.add("message-content"),g.innerHTML=t||this.message,s.appendChild(g)}updateMessageDom(s,t){for(let g=s;g<this.messageQueue.length;g++){const o=this.messageQueue[g].messageDom;o.style.zIndex=`${t+g}`,o.style.top=`${64*g+20}px`}}removeMessageDom(s,t,g){const o=this.messageQueue.findIndex(d=>d.id===t);this.messageQueue.splice(o,1),this.updateMessageDom(o,g),s.classList.add("ui-message-leave"),setTimeout(()=>{this.body.removeChild(s)},400)}setCurrentMessageDom(s){const t=this.messageQueue.length-1,g=this.messageQueue[t].messageDom;g.style.zIndex=`${s+t}`,g.style.top=`${64*t+20}px`}setOption(s){if(typeof s!="object"&&(s={}),this.messageQueue.length>=this.max)return;const t=document.createElement("div");t.classList.add("ui-message"),t.classList.add("ui-message-leave"),s.center&&t.classList.add("ui-message-center");const g=this.id,o=s.zIndex?s.zIndex:this.zIndex;this.messageQueue.push({id:g,messageDom:t}),this.setType(t,s.type),this.createTextDom(t,s.message),this.setCurrentMessageDom(o),this.body.appendChild(t),setTimeout(()=>{t.classList.remove("ui-message-leave")});let d=null;s.showClose&&(d=document.createElement("i"),d.classList.add("close-button"),t.appendChild(d));const m=isNaN(Number(s.duration))?this.duration:Number(s.duration);let n=-1;m!==0&&(n=setTimeout(()=>{this.removeMessageDom(t,g,o)},m)),s.showClose&&d.addEventListener("click",()=>{this.removeMessageDom(t,g,o),g!==-1&&clearTimeout(n)}),this.id++}}const Ke={class:"uppercase content"},We={class:"px-4",sm:"px-0"},Ze={class:"relative z-20 flex flex-col items-center p-4 rounded-md box gap-y-4",sm:"px-18 py-12"},st=i("div",{class:"text-2xl transition-transform text-gray-600/50 i-tabler:menu-2",transition:"all duration-200 ease-linear","group-hover":"text-c_theme/20 scale-110"},null,-1),et=[st],tt={class:"flex items-center justify-center mt-6 rounded-md w-30 h-30",sm:"w-50 h-50",border:"3 solid neutral"},at={class:"flex items-center py-2 mt-4 gap-x-6"},gt={class:"w-full p-4 overflow-x-auto whitespace-nowrap gap-x-3",scrollbar:"~ h-1 rounded"},vt=["onClick"],ot=["src"],_t=i("div",{class:"w-full van-hairline--bottom"},null,-1),ct={class:"grid grid-cols-5 gap-2 pt-2 auto-rows-max",sm:"grid-cols-8 gap-3"},it=["onClick"],nt=["src"],lt={key:0,class:"absolute top-0 w-40 h-full px-2 py-4 overflow-auto bg-white rounded-md scrollbar scrollbar-w-4px gap-y-3 -z-1 box -right-44"},dt=j({__name:"index",setup(r){const s=new Je,{loading:t,toggle:g}=Ye({initValue:!1}),o=[{id:2,title:"眼睛",type:"eye"},{id:3,title:"眉毛",type:"brow"},{id:4,title:"嘴巴",type:"mouth"},{id:5,title:"动作",type:"action"}],d=(a,e)=>{s.setOption({type:"error",message:"功能正在开发中"})};function m(a,e,v=".svg"){return new URL(Object.assign({"../../assets/images/action/1.svg":W,"../../assets/images/action/10.svg":Z,"../../assets/images/action/11.svg":ss,"../../assets/images/action/12.svg":es,"../../assets/images/action/13.svg":ts,"../../assets/images/action/14.svg":as,"../../assets/images/action/15.svg":gs,"../../assets/images/action/16.svg":vs,"../../assets/images/action/17.svg":os,"../../assets/images/action/18.svg":_s,"../../assets/images/action/19.svg":cs,"../../assets/images/action/2.svg":is,"../../assets/images/action/20.svg":ns,"../../assets/images/action/21.svg":ls,"../../assets/images/action/22.svg":ms,"../../assets/images/action/3.svg":rs,"../../assets/images/action/4.svg":ds,"../../assets/images/action/5.svg":hs,"../../assets/images/action/6.svg":us,"../../assets/images/action/7.svg":bs,"../../assets/images/action/8.svg":fs,"../../assets/images/action/9.svg":ps,"../../assets/images/brow/1.svg":ys,"../../assets/images/brow/2.svg":xs,"../../assets/images/brow/3.svg":ws,"../../assets/images/brow/4.svg":Cs,"../../assets/images/brow/5.svg":ks,"../../assets/images/brow/6.svg":Is,"../../assets/images/dd.svg":Ls,"../../assets/images/eye/1.svg":$s,"../../assets/images/eye/10.svg":Ps,"../../assets/images/eye/11.svg":Ts,"../../assets/images/eye/12.svg":js,"../../assets/images/eye/13.svg":Ds,"../../assets/images/eye/14.svg":Ms,"../../assets/images/eye/15.svg":zs,"../../assets/images/eye/16.svg":Es,"../../assets/images/eye/17.svg":Rs,"../../assets/images/eye/18.svg":Qs,"../../assets/images/eye/19.svg":Ss,"../../assets/images/eye/2.svg":Ns,"../../assets/images/eye/20.svg":Bs,"../../assets/images/eye/21.svg":Os,"../../assets/images/eye/22.svg":As,"../../assets/images/eye/23.svg":Us,"../../assets/images/eye/24.svg":Vs,"../../assets/images/eye/25.svg":qs,"../../assets/images/eye/26.svg":Fs,"../../assets/images/eye/3.svg":Gs,"../../assets/images/eye/4.svg":Hs,"../../assets/images/eye/5.svg":Xs,"../../assets/images/eye/6.svg":Ys,"../../assets/images/eye/7.svg":Js,"../../assets/images/eye/8.svg":Ks,"../../assets/images/eye/9.svg":Ws,"../../assets/images/girl.png":Zs,"../../assets/images/head/1.svg":se,"../../assets/images/head/2.svg":ee,"../../assets/images/head/3.svg":te,"../../assets/images/head/4.svg":ae,"../../assets/images/head/5.svg":ge,"../../assets/images/head/6.svg":ve,"../../assets/images/head/7.svg":oe,"../../assets/images/head/8.svg":_e,"../../assets/images/mouth/1.svg":ce,"../../assets/images/mouth/10.svg":ie,"../../assets/images/mouth/11.svg":ne,"../../assets/images/mouth/12.svg":le,"../../assets/images/mouth/13.svg":me,"../../assets/images/mouth/14.svg":re,"../../assets/images/mouth/15.svg":de,"../../assets/images/mouth/16.svg":he,"../../assets/images/mouth/17.svg":ue,"../../assets/images/mouth/18.svg":be,"../../assets/images/mouth/19.svg":fe,"../../assets/images/mouth/2.svg":pe,"../../assets/images/mouth/20.svg":ye,"../../assets/images/mouth/21.svg":xe,"../../assets/images/mouth/22.svg":we,"../../assets/images/mouth/23.svg":Ce,"../../assets/images/mouth/24.svg":ke,"../../assets/images/mouth/25.svg":Ie,"../../assets/images/mouth/26.svg":Le,"../../assets/images/mouth/27.svg":$e,"../../assets/images/mouth/28.svg":Pe,"../../assets/images/mouth/29.svg":Te,"../../assets/images/mouth/3.svg":je,"../../assets/images/mouth/30.svg":De,"../../assets/images/mouth/31.svg":Me,"../../assets/images/mouth/32.svg":ze,"../../assets/images/mouth/33.svg":Ee,"../../assets/images/mouth/34.svg":Re,"../../assets/images/mouth/35.svg":Qe,"../../assets/images/mouth/36.svg":Se,"../../assets/images/mouth/37.svg":Ne,"../../assets/images/mouth/38.svg":Be,"../../assets/images/mouth/39.svg":Oe,"../../assets/images/mouth/4.svg":Ae,"../../assets/images/mouth/40.svg":Ue,"../../assets/images/mouth/5.svg":Ve,"../../assets/images/mouth/6.svg":qe,"../../assets/images/mouth/7.svg":Fe,"../../assets/images/mouth/8.svg":Ge,"../../assets/images/mouth/9.svg":He})[`../../assets/images/${a}/${e}${v}`],self.location).href}const n=k({head:"1",eye:"1",brow:"1",mouth:"1",action:"1"}),C=k({head:new Array(8).fill(8).map((a,e)=>1+e+""),eye:new Array(26).fill(27).map((a,e)=>1+e+""),brow:new Array(6).fill(6).map((a,e)=>1+e+""),mouth:new Array(40).fill(40).map((a,e)=>1+e+""),action:new Array(22).fill(22).map((a,e)=>1+e+"")});k({head:[],eye:[],brow:[],mouth:[],action:[]});const D=()=>{for(const a in n){const e=C[a][M(1,C[a].length-1)];n[a]=e}H(()=>{var a;(a=f.value)==null||a.ctx.clearRect(0,0,f.value.canvas.width,f.value.canvas.height),f.value.drawContour({})})},M=(a,e)=>Math.floor(Math.random()*(e-a+1)+a),z=(a,e)=>{x.value=e},E=a=>{const e=URL.createObjectURL(a),v=document.createElement("a");v.href=e,v.download=`emoji_${Date.now()}`,v.click()},R=a=>{var e;n[x.value]=a,(e=f.value)==null||e.ctx.clearRect(0,0,f.value.canvas.width,f.value.canvas.height),f.value.drawContour({})},x=$("head"),Q=U(()=>C[x.value]),P=$(null);class S{constructor(e,v){c(this,"canvas");c(this,"ctx");c(this,"radius");c(this,"canvasPad");c(this,"options");c(this,"dpr");this.canvas=e,this.canvas.width=200,this.canvas.height=200,this.ctx=this.canvas.getContext("2d"),this.options=v,this.dpr=window.devicePixelRatio||1,this.ctx.scale(1,1),this.ctx.fillStyle=v.fillStyle,this.canvasPad=20,this.radius=this.canvas.width/2-this.canvasPad}drawContour({x:e=this.canvasPad/2,y:v=this.canvasPad/2,width:_=this.canvas.width-this.canvasPad,height:l=this.canvas.height-this.canvasPad}){Promise.all([m("head",n.head),m("eye",n.eye),m("mouth",n.mouth),m("action",n.action),m("brow",n.brow)]).then(y=>{y.forEach(p=>{p&&this.drawImageOnCanvas({imageUrl:p,x:e,y:v,width:_,height:l})})})}lineTo(e,v){this.ctx.beginPath(),this.ctx.moveTo(e.x,e.y),this.ctx.lineTo(v.x,v.y),this.ctx.stroke()}updateCanvasPad(e){this.canvasPad=e}getCanvasCenter(){const e=this.canvas.width/2,v=this.canvas.height/2;return{centerX:e,centerY:v}}arcInnerShadow({x:e,y:v,r:_=this.radius,shadowColor:l=this.options.shadowColor,shadowBlur:y=30,lineWidth:p=20}){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e,v,_,0,2*Math.PI,!1),this.ctx.clip(),this.ctx.beginPath(),this.ctx.lineWidth=p,this.ctx.shadowBlur=y,this.ctx.shadowColor=l,this.ctx.arc(e,v,_+p/2+1,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0,this.ctx.restore()}drawImageOnCanvas({imageUrl:e,x:v,y:_,width:l,height:y}){const p=new Image;p.src=e,p.onload=()=>{this.ctx.drawImage(p,v,_,l,y)}}}const f=$();return V(()=>{const a=new S(P.value,{fillStyle:"#ffa500",shadowColor:"rgba(240,45,45,0.8)"});f.value=a,a.drawContour({})}),(a,e)=>{const v=K;return u(),b("div",Ke,[i("div",We,[i("main",Ze,[i("div",{class:"absolute right-4 top-4 group",onClick:e[0]||(e[0]=(..._)=>h(g)&&h(g)(..._))},et),i("div",tt,[i("canvas",{ref_key:"canvasRef",ref:P},null,512)]),i("div",at,[i("div",{onClick:D,class:"text-2xl i-tabler:reload"}),i("div",{onClick:e[1]||(e[1]=_=>{var l;return(l=h(P))==null?void 0:l.toBlob(E)}),class:"flex items-center justify-center px-5 py-3 text-xs font-bold rounded-full cursor-pointer bg-gray-400/20",hover:"bg-c_theme/80 text-white"}," Export PNG ")]),i("div",gt,[(u(!0),b(I,null,L(h(n),(_,l)=>(u(),b("div",{class:w([{"!bg-c_theme/20":l===h(x)},"inline-flex items-center justify-center w-16 h-16 p-1 mx-2 transition-colors rounded-md cursor-pointer bg-gray-400/20"]),onClick:y=>z(_,l),key:l,hover:"bg-c_theme/20"},[i("img",{class:"w-full h-full",src:m(l,_,".svg"),alt:""},null,8,ot)],10,vt))),128))]),_t,i("div",null,[i("div",ct,[(u(!0),b(I,null,L(h(Q),(_,l)=>(u(),b("div",{class:w([{"!bg-c_theme/20":_==h(n)[h(x)]},"flex items-center justify-center p-1 p-2 transition-colors rounded-md cursor-pointer bg-gray-400/20"]),onClick:y=>R(_),key:l,sm:"w-15 h-15",hover:"bg-c_theme/20"},[i("img",{class:"w-full h-full",src:m(h(x),_,".svg"),alt:""},null,8,nt)],10,it))),128))])]),T(G,{name:"van-slide-left"},{default:q(()=>[h(t)?(u(),b("div",lt,[(u(),b(I,null,L(o,_=>T(v,{class:"w-full h-34",onClick:d,key:_.id,item:_},null,8,["item"])),64))])):F("",!0)]),_:1})])])])}}});export{dt as default};
